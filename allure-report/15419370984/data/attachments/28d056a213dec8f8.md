# Test info

- Name: Purchase Tests >> Taboo > Logged In Customer > Checkout page > Purchase without Coupon code
- Location: /home/runner/work/TabooAutomation/TabooAutomation/__tests__/purchase/purchaseTests.spec.js:52:5

# Error details

```
Error: locator.click: Test timeout of 30000ms exceeded.
Call log:
  - waiting for locator('.header--funds--coins--add.gold')

    at Purchase.clickOnPurchaseGoldButton (/home/runner/work/TabooAutomation/TabooAutomation/__tests__/purchase/PurchasePage.js:23:33)
    at /home/runner/work/TabooAutomation/TabooAutomation/__tests__/purchase/purchaseTests.spec.js:53:24
```

# Page snapshot

```yaml
- banner:
  - heading "Bad gateway Error code 502" [level=1]
  - text: Visit
  - link "cloudflare.com":
    - /url: https://www.cloudflare.com/5xx-error-landing?utm_source=errorcode_502&utm_campaign=dev-cms.plaee.dev
  - text: for more information. 2025-06-03 14:02:33 UTC
- text: You
- heading "Browser" [level=3]
- text: Working
- link:
  - /url: https://www.cloudflare.com/5xx-error-landing?utm_source=errorcode_502&utm_campaign=dev-cms.plaee.dev
- text: Ashburn
- heading "Cloudflare" [level=3]:
  - link "Cloudflare":
    - /url: https://www.cloudflare.com/5xx-error-landing?utm_source=errorcode_502&utm_campaign=dev-cms.plaee.dev
- text: Working dev-cms.plaee.dev
- heading "Host" [level=3]
- text: Error
- heading "What happened?" [level=2]
- paragraph: The web server reported a bad gateway error.
- heading "What can I do?" [level=2]
- paragraph: Please try again in a few minutes.
- paragraph:
  - text: "Cloudflare Ray ID:"
  - strong: 949fba943b0116de
  - text: "• Your IP:"
  - button "Click to reveal"
  - text: • Performance & security by
  - link "Cloudflare":
    - /url: https://www.cloudflare.com/5xx-error-landing?utm_source=errorcode_502&utm_campaign=dev-cms.plaee.dev
```

# Test source

```ts
   1 | import { expect } from '@playwright/test';
   2 | import * as utils from '../utils.js';
   3 |
   4 | export class Purchase {
   5 |     constructor(page) {
   6 |         this.page = page;
   7 |         this.purchaseGold = page.locator(utils.purchaseGoldButton);
   8 |         this.purchaseSecret = page.locator(utils.purchaseSecretButton);
   9 |         this.toggleGold = page.locator(utils.toggleGoldButton);
  10 |         this.toggleSecret = page.locator(utils.toggleSecretButton);
  11 |         this.xButton = page.locator(utils.xButton);
  12 |         this.packageLocator = page.locator('div').filter({ hasText: /^500kGOLD COINS\+550Secret Coins\$500$/ }).getByRole('button');
  13 |         this.couponField = page.getByPlaceholder(utils.couponPlaceholder);
  14 |         this.couponButton = page.locator(utils.couponCodeButton)
  15 |         this.oldPrice = page.locator(utils.packageOldPriceClass);
  16 |         this.checkoutPurchaseButton = page.locator(utils.checkoutPurchaseButton);
  17 |         this.generalErrorLocator = page.locator(utils.generalErrorLocator);
  18 |
  19 |     }
  20 |
  21 |
  22 |     async clickOnPurchaseGoldButton() {
> 23 |         await this.purchaseGold.click();
     |                                 ^ Error: locator.click: Test timeout of 30000ms exceeded.
  24 |         expect(this.purchaseGold).toBeHidden();
  25 |     }
  26 |     async clickOnPurchaseSecretButton() {
  27 |         await this.purchaseSecret.click();
  28 |     }
  29 |     async toggleGoldButton() {
  30 |         await this.toggleGold.click();
  31 |     }
  32 |     async toggleSecretButton() {
  33 |         await this.toggleSecret.click();
  34 |     }
  35 |     async clickOnXButton() {
  36 |         await this.xButton.click();
  37 |     }
  38 |     async selectPackage() {
  39 |         await this.packageLocator.click();
  40 |     }
  41 |     async fillCouponCode(couponCode) {
  42 |         await this.couponField.fill(couponCode);
  43 |     }
  44 |     async clickOnCouponButton() {
  45 |         await this.couponButton.click();
  46 |         return this.couponButton;
  47 |     }
  48 |     async verifyOldPriceVisible() {
  49 |         await expect(this.oldPrice).toBeVisible();
  50 |     }
  51 |     async clickOnCheckoutPurchaseButton() {
  52 |         await this.checkoutPurchaseButton.click();
  53 |         return this.checkoutPurchaseButton;
  54 |     }
  55 |     async verifyGeneralErrorVisible() {
  56 |         await expect(this.generalErrorLocator).toHaveText(utils.couponEmptyGeneraError);
  57 |     }
  58 | }
```