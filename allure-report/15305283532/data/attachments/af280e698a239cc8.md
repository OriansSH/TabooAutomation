# Test info

- Name: Taboo > Register Widget > Validations Tests >> Duplicate Email Validation
- Location: /home/runner/work/TabooAutomation/TabooAutomation/__tests__/register/registerTests.spec.js:62:5

# Error details

```
Error: Timed out 5000ms waiting for expect(locator).toHaveText(expected)

Locator: locator('pce-register').locator('.ple-error-message:has-text("Email already exists. Please log in or reset your password")')
Expected string: "Email already exists. Please log in or reset your password"
Received: <element(s) not found>
Call log:
  - expect.toHaveText with timeout 5000ms
  - waiting for locator('pce-register').locator('.ple-error-message:has-text("Email already exists. Please log in or reset your password")')

    at RegisterPage.registerGeneralErrorMessage (/home/runner/work/TabooAutomation/TabooAutomation/__tests__/register/RegisterPage.js:82:41)
    at /home/runner/work/TabooAutomation/TabooAutomation/__tests__/register/registerTests.spec.js:66:28
```

# Page snapshot

```yaml
- img
- button "Login"
- button "Sign Up"
- img
- img
- text: Your Journey Begins Here Unlock exclusive rewards with your first step into Taboo Play Come on in
- img
- text: Friends Deserve Fortune Invite your Friends and earn Gold coins for every join Send Invite
- img
- text: A Golden Opportunity Awaits For 72 hours only — double your Gold coins on every purchase Reveal the Offer
- img
- textbox
- text: All
- img
- text: Exclusive
- img
- text: New Releases
- img
- text: Hot Recommended for you
- list:
  - listitem:
    - button "Play Majestic White Rhino":
      - img "Majestic White Rhino"
  - listitem:
    - button "Play Wild Santa 3":
      - img "Wild Santa 3"
  - listitem:
    - button "Play Zeus Unchained - Hold & Hit":
      - img "Zeus Unchained - Hold & Hit"
  - listitem:
    - button "Play Madame Luck 96":
      - img "Madame Luck 96"
  - listitem:
    - button "Play Piggy Gold 96":
      - img "Piggy Gold 96"
  - listitem:
    - button "Play Bamboo Fortune 96":
      - img "Bamboo Fortune 96"
  - listitem:
    - button "Play Dragoness 96":
      - img "Dragoness 96"
  - listitem:
    - button "Play Power of Merlin Megaways":
      - img "Power of Merlin Megaways"
- button
- button
- region "Notifications (F8)":
  - list
- text: All
- list:
  - listitem:
    - button "Play Majestic King":
      - img "Majestic King"
  - listitem:
    - button "Play Majestic Wild Buffalo":
      - img "Majestic Wild Buffalo"
  - listitem:
    - button "Play Mega Wild Fruits":
      - img "Mega Wild Fruits"
  - listitem:
    - button "Play Majestic White Rhino":
      - img "Majestic White Rhino"
  - listitem:
    - button "Play Dark Wolf":
      - img "Dark Wolf"
  - listitem:
    - button "Play Baba Yaga Tales":
      - img "Baba Yaga Tales"
  - listitem:
    - button "Play Wild Santa 3":
      - img "Wild Santa 3"
  - listitem:
    - button "Play Trouts Treasure- Wild Christmas":
      - img "Trouts Treasure- Wild Christmas"
  - listitem:
    - button "Play Merlin’s Mirage":
      - img "Merlin’s Mirage"
  - listitem:
    - button "Play Zeus Unchained - Hold & Hit":
      - img "Zeus Unchained - Hold & Hit"
  - listitem:
    - button "Play Majestic Spirit":
      - img "Majestic Spirit"
  - listitem:
    - button "Play Rooster Mayhem":
      - img "Rooster Mayhem"
  - listitem:
    - button "Play Lucky Jack Lost Jungle":
      - img "Lucky Jack Lost Jungle"
  - listitem:
    - button "Play 4 Horsemen 3":
      - img "4 Horsemen 3"
  - listitem:
    - button "Play Wolf Fang - Valhalla Rising":
      - img "Wolf Fang - Valhalla Rising"
  - listitem:
    - button "Play Madame Luck 96":
      - img "Madame Luck 96"
  - listitem:
    - button "Play Medusa Money 96":
      - img "Medusa Money 96"
  - listitem:
    - button "Play Dragon Prophecy 96":
      - img "Dragon Prophecy 96"
  - listitem:
    - button "Play Piggy Gold 96":
      - img "Piggy Gold 96"
  - listitem:
    - button "Play Hot and Heavy 96":
      - img "Hot and Heavy 96"
  - listitem:
    - button "Play Book of Riches 94":
      - img "Book of Riches 94"
  - listitem:
    - button "Play Bamboo Fortune 96":
      - img "Bamboo Fortune 96"
  - listitem:
    - button "Play Sheerluck 96":
      - img "Sheerluck 96"
  - listitem:
    - button "Play Rio Pleasures 96":
      - img "Rio Pleasures 96"
  - listitem:
    - button "Play Dragoness 96":
      - img "Dragoness 96"
  - listitem:
    - button "Play Brilliant Gems 96":
      - img "Brilliant Gems 96"
  - listitem:
    - button "Play Gates of Olympus 1000":
      - img "Gates of Olympus 1000"
  - listitem:
    - button "Play Power of Merlin Megaways":
      - img "Power of Merlin Megaways"
  - listitem:
    - button "Play Triple Pot Gold":
      - img "Triple Pot Gold"
- button
- button
- region "Notifications (F8)":
  - list
- text: Exclusive
- list:
  - listitem:
    - button "Play Majestic King":
      - img "Majestic King"
  - listitem:
    - button "Play Mega Wild Fruits":
      - img "Mega Wild Fruits"
  - listitem:
    - button "Play Baba Yaga Tales":
      - img "Baba Yaga Tales"
  - listitem:
    - button "Play Merlin’s Mirage":
      - img "Merlin’s Mirage"
  - listitem:
    - button "Play Rooster Mayhem":
      - img "Rooster Mayhem"
  - listitem:
    - button "Play Wolf Fang - Valhalla Rising":
      - img "Wolf Fang - Valhalla Rising"
  - listitem:
    - button "Play Dragon Prophecy 96":
      - img "Dragon Prophecy 96"
  - listitem:
    - button "Play Book of Riches 94":
      - img "Book of Riches 94"
  - listitem:
    - button "Play Rio Pleasures 96":
      - img "Rio Pleasures 96"
  - listitem:
    - button "Play Gates of Olympus 1000":
      - img "Gates of Olympus 1000"
- button
- button
- region "Notifications (F8)":
  - list
- text: New Releases
- list:
  - listitem:
    - button "Play Majestic Wild Buffalo":
      - img "Majestic Wild Buffalo"
  - listitem:
    - button "Play Dark Wolf":
      - img "Dark Wolf"
  - listitem:
    - button "Play Trouts Treasure- Wild Christmas":
      - img "Trouts Treasure- Wild Christmas"
  - listitem:
    - button "Play Majestic Spirit":
      - img "Majestic Spirit"
  - listitem:
    - button "Play Lucky Jack Lost Jungle":
      - img "Lucky Jack Lost Jungle"
  - listitem:
    - button "Play 4 Horsemen 3":
      - img "4 Horsemen 3"
  - listitem:
    - button "Play Medusa Money 96":
      - img "Medusa Money 96"
  - listitem:
    - button "Play Hot and Heavy 96":
      - img "Hot and Heavy 96"
  - listitem:
    - button "Play Sheerluck 96":
      - img "Sheerluck 96"
  - listitem:
    - button "Play Brilliant Gems 96":
      - img "Brilliant Gems 96"
  - listitem:
    - button "Play Triple Pot Gold":
      - img "Triple Pot Gold"
- button
- button
- region "Notifications (F8)":
  - list
- text: Hot
- list:
  - listitem:
    - button "Play Majestic King":
      - img "Majestic King"
  - listitem:
    - button "Play Majestic Wild Buffalo":
      - img "Majestic Wild Buffalo"
  - listitem:
    - button "Play Mega Wild Fruits":
      - img "Mega Wild Fruits"
  - listitem:
    - button "Play Majestic White Rhino":
      - img "Majestic White Rhino"
  - listitem:
    - button "Play Dark Wolf":
      - img "Dark Wolf"
  - listitem:
    - button "Play Baba Yaga Tales":
      - img "Baba Yaga Tales"
  - listitem:
    - button "Play Wild Santa 3":
      - img "Wild Santa 3"
  - listitem:
    - button "Play Trouts Treasure- Wild Christmas":
      - img "Trouts Treasure- Wild Christmas"
  - listitem:
    - button "Play Merlin’s Mirage":
      - img "Merlin’s Mirage"
  - listitem:
    - button "Play Zeus Unchained - Hold & Hit":
      - img "Zeus Unchained - Hold & Hit"
  - listitem:
    - button "Play Majestic Spirit":
      - img "Majestic Spirit"
  - listitem:
    - button "Play Rooster Mayhem":
      - img "Rooster Mayhem"
  - listitem:
    - button "Play Lucky Jack Lost Jungle":
      - img "Lucky Jack Lost Jungle"
  - listitem:
    - button "Play 4 Horsemen 3":
      - img "4 Horsemen 3"
  - listitem:
    - button "Play Wolf Fang - Valhalla Rising":
      - img "Wolf Fang - Valhalla Rising"
  - listitem:
    - button "Play Madame Luck 96":
      - img "Madame Luck 96"
  - listitem:
    - button "Play Medusa Money 96":
      - img "Medusa Money 96"
  - listitem:
    - button "Play Dragon Prophecy 96":
      - img "Dragon Prophecy 96"
  - listitem:
    - button "Play Piggy Gold 96":
      - img "Piggy Gold 96"
  - listitem:
    - button "Play Hot and Heavy 96":
      - img "Hot and Heavy 96"
  - listitem:
    - button "Play Book of Riches 94":
      - img "Book of Riches 94"
  - listitem:
    - button "Play Bamboo Fortune 96":
      - img "Bamboo Fortune 96"
  - listitem:
    - button "Play Sheerluck 96":
      - img "Sheerluck 96"
  - listitem:
    - button "Play Rio Pleasures 96":
      - img "Rio Pleasures 96"
  - listitem:
    - button "Play Dragoness 96":
      - img "Dragoness 96"
  - listitem:
    - button "Play Brilliant Gems 96":
      - img "Brilliant Gems 96"
  - listitem:
    - button "Play Gates of Olympus 1000":
      - img "Gates of Olympus 1000"
  - listitem:
    - button "Play Power of Merlin Megaways":
      - img "Power of Merlin Megaways"
  - listitem:
    - button "Play Triple Pot Gold":
      - img "Triple Pot Gold"
- button
- button
- region "Notifications (F8)":
  - list
- img
- text: A Golden Opportunity Awaits For 72 hours only — double your Gold coins on every purchase Reveal the Offer
- img
- text: "Terms of service Sweeps policy Invite friends terms of use Privacy policy Support: +1 (123) 555-6218 You are aware and understand that you are providing information to Taboo Casino. The sole use of this information will be to manage this promotion. NO PURCHASE NECESSARY to participate in Sweepstakes. SWEEPSTAKES ARE VOID WHERE PROHIBITED BY LAW. For more information about sweepstakes rules, please refer to Sweeps Policy. Copyright 2023 Sunflower Limited. All right reserved. Go To Responsible Social Gaming Taboo Casino is operated by ''. The sweepstakes promotions and prizes offered at Taboo Casino are operated by ''. All payments are processed by ''. Taboo Casino All rights reserved."
- img
- text: Almost there!
- checkbox
- paragraph: "I confirm the following:"
- paragraph:
  - text: I'm at least 18 years old; I agree to the
  - link "Terms of Service":
    - /url: /terms-and-conditions
  - text: and
  - link "Privacy Policy":
    - /url: /privacy-policy
  - text: .
- checkbox
- paragraph: "I understand that:"
- paragraph: a. If I live in an Excluded Territory, as defined in the Terms and Conditions, I am not eligible to play...
- button "Accept" [disabled]
- region "Notifications (F8)":
  - list
- img
```

# Test source

```ts
   1 | import { expect } from "@playwright/test";
   2 | import * as utils from '../utils.js';
   3 |
   4 | export class RegisterPage {
   5 |     constructor(page) {
   6 |         this.page = page;
   7 |         this.registerWidget = page.locator(utils.registerWidget);
   8 |         this.firstNameField = this.registerWidget.locator(utils.firstNameField);
   9 |         this.lastNameField = this.registerWidget.locator(utils.lastNameField);
  10 |         this.emailField = this.registerWidget.locator(utils.emailField);
  11 |         this.passwordField = this.registerWidget.locator(utils.passwordField);
  12 |         this.confirmPasswordField = this.registerWidget.locator(utils.confirmPasswordField);
  13 |         this.createAccountButton = this.registerWidget.locator(utils.loginButton);
  14 |         this.consentHeadLine = page.locator(`text=${utils.consentHeadLine}`);
  15 |         this.consentCheckBox = page.locator(utils.consentCheckBox);
  16 |         this.consentAcceptButton = page.locator(utils.consentAcceptButton);
  17 |     }
  18 |     async verifyConsentHeadlineVisible() {
  19 |         await expect(this.consentHeadLine).toBeVisible();
  20 |     }
  21 |     async clickConsentCheckboxes() {
  22 |         const count = await this.consentCheckBox.count();
  23 |         for (let i = 0; i < count; i++) {
  24 |             await this.consentCheckBox.nth(i).click();
  25 |         }
  26 |     }
  27 |     async verifyAcceptButtonState(enabled = true) {
  28 |         if (enabled) {
  29 |             await expect(this.consentAcceptButton).toBeEnabled();
  30 |             await this.consentAcceptButton.click();
  31 |         } else {
  32 |             await expect(this.consentAcceptButton).toBeDisabled();
  33 |         }
  34 |
  35 |     }
  36 |     async fillFirstName(firstname) {
  37 |         await this.firstNameField.fill(firstname);
  38 |     }
  39 |     async filllLastName(lastName) {
  40 |         await this.lastNameField.fill(lastName);
  41 |     }
  42 |     async fillEmail(email) {
  43 |         await this.emailField.fill(email);
  44 |     }
  45 |     async fillPassword(password) {
  46 |         await this.passwordField.fill(password);
  47 |     }
  48 |     async fillConfirmPassword(confirmPassword) {
  49 |         await this.confirmPasswordField.fill(confirmPassword);
  50 |     }
  51 |     async clickCreateAccountButton() {
  52 |         await this.createAccountButton.click();
  53 |         return this.createAccountButton;
  54 |     }
  55 |     async hardCodedRegister() {
  56 |         await this.fillFirstName('Automation');
  57 |         await this.filllLastName('User');
  58 |         await this.fillEmail(utils.uniqueEmail);
  59 |         await this.fillPassword(utils.testUserPassword);
  60 |         await this.fillConfirmPassword(utils.testUserPassword);
  61 |         console.log('Registering Email:', utils.uniqueEmail);
  62 |     }
  63 |     async expectEmptyFieldValidationMessages() {
  64 |         const messages = [
  65 |             'First name is required',
  66 |             'Last name is required',
  67 |             'Invalid email address',
  68 |             'Password must be at least 6 characters long'
  69 |         ];
  70 |         for (const msg of messages) {
  71 |             const locator = this.registerWidget.locator(`${utils.registerValidationsLocator}:has-text("${msg}")`);
  72 |             await expect(locator).toHaveText(msg);
  73 |         }
  74 |     }
  75 |
  76 |     async passwordAndExpectValidation(expectedMessage) {
  77 |         const validationLocator = this.registerWidget.locator(`${utils.registerValidationsLocator}:has-text("${expectedMessage}")`);
  78 |         await expect(validationLocator).toHaveText(expectedMessage);
  79 |     }
  80 |     async registerGeneralErrorMessage(expectedMessage) {
  81 |         const validationLocator = this.registerWidget.locator(`${utils.generalErrorLocator}:has-text("${expectedMessage}")`);
> 82 |         await expect(validationLocator).toHaveText(expectedMessage);
     |                                         ^ Error: Timed out 5000ms waiting for expect(locator).toHaveText(expected)
  83 |     }
  84 | }
```